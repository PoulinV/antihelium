#Short version of the Makefile for the antiproton code.
#Dependencies are not specified. The code is rebuilt from scratch each time.
#Authors Mathieu Boudaud and Pierre Salati

FC      = gcc
#CFLAGS =
CFLAGS  = -Wall
OBJECTS = nrutil.o GAUSSJ.o TRIDAG.o\
		besselj0_next.o besselj1_next.o BESSEL_PRELIM.o\
		CROSS_SECTIONS.o DIFFUSION_PROPAGATION.o SOLAR_MOD.o\
		PROTON.o HELIUM.o PRIMARY_PBAR.o ANTI_PROTON.o MAIN.o

all: executable clean

executable: $(OBJECTS)
		$(FC) -lm -o executable $(OBJECTS)

%.o: %.c
		@echo ========================================================================================
		$(FC) -o $@ -c $< $(CFLAGS)
		@echo ========================================================================================

clean:
		@echo ========================================================================================
		@echo ========================================================================================
		rm -f *.o core
		@echo ========================================================================================
		@echo ========================================================================================

mrproper: clean
		rm -f executable
